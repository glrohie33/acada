(window.webpackJsonp=window.webpackJsonp||[]).push([[3],{416:function(s,t,e){"use strict";e.r(t);var a={data:function(){return{login:{username:"",password:""},feedback:!1,errors:[],regForm:"",success:"",rules:"",type:"password",icon:"fa fa-lock"}},methods:{Login:function(){var s=this,t=this.login;this.errors.splice(0);var e=this.$refs.submit;if(t.username&&t.password&&t.password.length>5){var a=this.indexurl+"api/Auth/login";e.toggleAttribute("disabled"),this.axios.post(a,t).then((function(t){if(e.toggleAttribute("disabled"),t.data.token){var a={token:t.data.token,exp:new Date(t.data.expiration).getTime()};window.localStorage.setItem("token",JSON.stringify(a));var r=s.jwt.decode(t.data.token),o=s.key,i=Array.isArray(r[o])?r[o].toString():r[o];window.localStorage.setItem("userInfo",JSON.stringify(t.data.usern)),s.success="Login Successful you will be redirected shortly",s.feedback="true",setTimeout((function(){i.search("Admin")>-1?(s.$router.push("/admin"),s.setDatas()):s.$router.push("/dashboard")}),2e3)}})).catch((function(t){e.toggleAttribute("disabled"),t.response.data?s.errors.push(t.respons.data):s.errors.push("invalid username and passsword"),s.feedback=!0}))}else this.catchErrors(t)},catchErrors:function(s){console.log(s),s.username||this.errors.push("email is required"),s.password||this.errors.push("password is required"),s.password.length<6&&this.errors.push("password must be more than 5"),this.feedback=!0},pass:function(s){"password"==this.type?(this.type="text",this.icon="fa fa-unlock"):(this.type="password",this.icon="fa fa-lock")}}},r=[function(){var s=this.$createElement,t=this._self._c||s;return t("div",{staticClass:"card-header"},[t("strong",{staticClass:"card-title"},[this._v("Login")])])},function(){var s=this.$createElement,t=this._self._c||s;return t("div",{staticClass:"col-md-12 log-img"},[t("img",{staticClass:"img-thumbnail",attrs:{src:e(19),alt:""}})])}],o=e(1),i=Object(o.a)(a,(function(){var s=this,t=s.$createElement,e=s._self._c||t;return e("section",[e("div",{staticClass:"container"},[e("div",{staticClass:"row justify-center"},[e("div",{staticClass:"card",attrs:{id:"register"}},[s._m(0),s._v(" "),e("div",{staticClass:"card-body"},[s._m(1),s._v(" "),e("hr"),s._v(" "),e("form",{ref:"regForm",attrs:{action:""}},[e("div",{directives:[{name:"show",rawName:"v-show",value:s.feedback,expression:"feedback"}],staticClass:"card"},[e("span",{staticClass:"fa fa-close absolute",on:{click:function(t){s.feedback=!1}}}),s._v(" "),s._l(s.errors,(function(t){return e("p",{key:t,staticClass:"text-danger"},[s._v(s._s(t))])})),s._v(" "),e("p",{staticClass:"text-success"},[s._v(s._s(s.success))])],2),s._v(" "),e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-12 col-sm-12"},[e("div",{staticClass:"form-group"},[e("label",{attrs:{for:""}},[s._v("Email")]),s._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:s.login.username,expression:"login.username"}],staticClass:"form-control",attrs:{type:"text",name:"",id:""},domProps:{value:s.login.username},on:{input:function(t){t.target.composing||s.$set(s.login,"username",t.target.value)}}})])]),s._v(" "),e("div",{staticClass:"col-md-12 col-sm-12"},[e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"fname"}},[s._v("Password")]),s._v(" "),e("div",{staticClass:"input-group"},["checkbox"===s.type?e("input",{directives:[{name:"model",rawName:"v-model",value:s.login.password,expression:"login.password"}],staticClass:"form-control",attrs:{id:"fname",type:"checkbox"},domProps:{checked:Array.isArray(s.login.password)?s._i(s.login.password,null)>-1:s.login.password},on:{change:function(t){var e=s.login.password,a=t.target,r=!!a.checked;if(Array.isArray(e)){var o=s._i(e,null);a.checked?o<0&&s.$set(s.login,"password",e.concat([null])):o>-1&&s.$set(s.login,"password",e.slice(0,o).concat(e.slice(o+1)))}else s.$set(s.login,"password",r)}}}):"radio"===s.type?e("input",{directives:[{name:"model",rawName:"v-model",value:s.login.password,expression:"login.password"}],staticClass:"form-control",attrs:{id:"fname",type:"radio"},domProps:{checked:s._q(s.login.password,null)},on:{change:function(t){s.$set(s.login,"password",null)}}}):e("input",{directives:[{name:"model",rawName:"v-model",value:s.login.password,expression:"login.password"}],staticClass:"form-control",attrs:{id:"fname",type:s.type},domProps:{value:s.login.password},on:{input:function(t){t.target.composing||s.$set(s.login,"password",t.target.value)}}}),s._v(" "),e("div",{staticClass:"input-group-prepend"},[e("span",{staticClass:"input-group-text",on:{click:function(t){s.pass(this)}}},[e("i",{class:s.icon})])])])])])]),s._v(" "),e("div",{staticClass:"row",staticStyle:{"justify-content":"center"}},[e("button",{ref:"submit",staticClass:"btn btn-success",attrs:{type:"button",value:"Login"},on:{click:function(t){s.Login()}}},[s._v("Login")])])]),s._v(" "),e("hr"),s._v(" "),e("div",{staticClass:"col-md-12 log-info text-center"},[e("p",[s._v("\n              Don't have an account?\n              "),e("router-link",{attrs:{to:"/register"}},[s._v("Register")])],1)])])])])])])}),r,!1,null,null,null);t.default=i.exports}}]);
//# sourceMappingURL=3.build.js.map